<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script&family=Parisienne&family=Alex+Brush&family=Pinyon+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Crimson+Text&family=Libre+Baskerville&family=Playfair+Display&family=Nanum+Myeongjo&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <!-- 카카오 JavaScript SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"></script>
    <!-- 개인/일반 통합 -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=l0uzgup5vy"></script>
</head>
<body>
    <div class="template-app-wrapper">
        <div class="mcard-view">
            <div class="petals-container"></div>
            <header class="header">
                <div class="header-content">
                    <div class="names">
                        <div class="name-row">Lee Tae Min</div>
                        <div class="name-row">Kim Hye Hyeon</div>
                    </div>
                    <div class="header-image">
                        <img src="./img/KakaoTalk_20250705_101844911.jpg" alt="웨딩 커플 이미지">
                    </div>
                    <div class="wedding-date-place">
                        <div class="wedding-date">2025년 8월 23일 토요일 오후 2시</div>
                        <div class="wedding-place">유성컨벤션웨딩홀 3층 그랜드홀</div>
                    </div>
                </div>
            </header>
            <section class="greeting-section fade-in-section">
                <div class="greeting-content fade-in-section">
                    <h2 class="greeting-title"></h2>
                    <div class="greeting-text">
                        <p>새로운 마음과 새 의미를 간직하며</p>
                        <p>저희 두 사람이 새 출발의 첫걸음을 내딛습니다.</p>
                        <p>좋은 뜻, 바른 뜻으로 올바르게 살 수 있도록</p>
                        <p>축복과 격려 주시면</p>
                        <p>더없는 기쁨으로 간직하겠습니다.</p>
                    </div>
                    <div class="image-line-overlay">
                        <span class="line"></span>
                    </div>
                    <div class="parents-info">
                        <div class="parent-row">
                            <span class="parent-title">이재용 · 김혜자</span>
                            <span class="parent-desc">의 </span>차남
                            <span class="parent-name">태민</span>
                        </div>
                        <div class="parent-row">
                            <span class="parent-title">김기수 · 허미숙</span>
                            <span class="parent-desc">의 </span>장녀
                            <span class="parent-name">혜현</span>
                        </div>
                    </div>
                </div>
                <div class="greeting-image-wrapper">
                    <img src="./img/wedding3.png" alt="웨딩 커플 이미지">
                </div>
            </section>

            <!-- D-DAY 카운트다운 섹션 -->
            <section class="dday-section fade-in-section">
                <div class="dday-container">
                    <h2 class="dday-title">D-DAY</h2>
                    <div class="dday-counter">
                        <div class="counter-item">
                            <span class="counter-number" id="days">0</span>
                            <span class="counter-label">일</span>
                        </div>
                        <div class="counter-item">
                            <span class="counter-number" id="hours">0</span>
                            <span class="counter-label">시간</span>
                        </div>
                        <div class="counter-item">
                            <span class="counter-number" id="minutes">0</span>
                            <span class="counter-label">분</span>
                        </div>
                        <div class="counter-item">
                            <span class="counter-number" id="seconds">0</span>
                            <span class="counter-label">초</span>
                        </div>
                    </div>
                    <div class="dday-message">
                        <p>저희의 특별한 날까지</p>
                    </div>
                </div>
            </section>

            <section class="date-time fade-in-section">
                <img src="./img/8Calendar.JPG" alt="달력">
            </section>

            <section class="gallery-section fade-in-section">
                <div class="gallery-header"><h2>GALLERY</h2></div>
                <div id="weddingCarousel" class="carousel slide gallery" data-bs-ride="carousel">
                    <!-- 인디케이터 -->
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#weddingCarousel" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#weddingCarousel" data-bs-slide-to="1"></button>
                    </div>
            
                    <!-- 슬라이드 이미지 -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="gallery-grid">
                                <div class="gallery-row">
                                    <img src="./img/KakaoTalk_20250705_101844911.jpg" alt="웨딩 이미지 1">
                                    <img src="./img/KakaoTalk_20250705_101845152.jpg" alt="웨딩 이미지 2">
                                    <img src="./img/KakaoTalk_20250705_101845351.jpg" alt="웨딩 이미지 3">
                                </div>
                                <div class="gallery-row">
                                    <img src="./img/KakaoTalk_20250705_101845888.jpg" alt="웨딩 이미지 4">
                                    <img src="./img/KakaoTalk_20250705_101846227.jpg" alt="웨딩 이미지 5">
                                    <img src="./img/KakaoTalk_20250705_101846227.jpg" alt="웨딩 이미지 6">
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="gallery-grid">
                                <div class="gallery-row">
                                    <img src="./img/KakaoTalk_20250705_101844911.jpg" alt="웨딩 이미지 1">
                                    <img src="./img/KakaoTalk_20250705_101845152.jpg" alt="웨딩 이미지 2">
                                    <img src="./img/KakaoTalk_20250705_101845351.jpg" alt="웨딩 이미지 3">
                                </div>
                                <div class="gallery-row">
                                    <img src="./img/KakaoTalk_20250705_101845888.jpg" alt="웨딩 이미지 4">
                                    <img src="./img/KakaoTalk_20250705_101846227.jpg" alt="웨딩 이미지 5">
                                    <img src="./img/KakaoTalk_20250705_101846227.jpg" alt="웨딩 이미지 6">
                                </div>
                            </div>
                        </div>
                    </div>
            
                    <!-- 이전/다음 버튼 -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#weddingCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#weddingCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </section>

            <section class="account-section fade-in-section">
                <h2 class="section-title">마음 전하실 곳</h2>
                <p class="section-subtitle">"신랑 & 신부에게 축하의 마음을 전해주세요"</p>
            
                <div class="account-buttons">
                    <button class="account-button" onclick="toggleAccounts('groom')">
                        신랑측 계좌번호
                    </button>
                    <button class="account-button" onclick="toggleAccounts('bride')">
                        신부측 계좌번호
                    </button>
                </div>
            </section>
            <!-- 계좌이체 섹션 끝나는 부분에 구분선 추가 -->
            <div class="section-divider fade-in-section"></div>

            <section class="contact-section fade-in-section">
                <div class="contact-list">
                    <div class="contact-item">
                        <div class="contact-info">
                            <span class="contact-label">신랑</span>
                            <span class="contact-name">이태민</span>
                        </div>
                        <div class="contact-buttons">
                            <a href="tel:01027072370" class="contact-button call">
                                <i class="bi bi-telephone-fill"></i>
                            </a>
                            <a href="sms:01027072370" class="contact-button sms">
                                <i class="bi bi-chat-fill"></i>
                            </a>
                        </div>
                    </div>
            
                    <div class="contact-item">
                        <div class="contact-info">
                            <span class="contact-label">신부</span>
                            <span class="contact-name">김혜현</span>
                        </div>
                        <div class="contact-buttons">
                            <a href="tel:01044201467" class="contact-button call">
                                <i class="bi bi-telephone-fill"></i>
                            </a>
                            <a href="sms:01044201467" class="contact-button sms">
                                <i class="bi bi-chat-fill"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 계좌이체 섹션 끝나는 부분에 구분선 추가 -->
            <div class="section-divider fade-in-section"></div>
            <!-- 공유 섹션 추가 -->
            <section class="share-section fade-in-section">
                <div class="share-buttons">
                    <a href="#" class="share-button kakao" onclick="shareKakao()">
                        <img src="./img/kakao2.png" alt="카카오톡 공유하기" class="share-icon">
                        카카오톡 공유하기
                    </a>
                    <a href="#" class="share-button url">
                        <img src="./img/link.png" alt="URL 주소 복사하기" class="share-icon">
                        URL 주소 복사하기
                    </a>
                </div>
            </section>
            <!-- 계좌이체 섹션 끝나는 부분에 구분선 추가 -->
            <div class="section-divider fade-in-section"></div>


            <section class="location-section fade-in-section">
                <h2 class="section-title">LOCATION</h2>
                <h3 class="sub-title">오시는 길</h3>
                
                <div class="venue-info">
                    <p class="venue-name">유성컨벤션웨딩홀 3층 그랜드홀</p>
                    <p class="venue-address">대전광역시 유성구 온천북로77</p>
                </div>
            
                <div class="map-container">
                    <div id="map" style="width:100%;height:350px;"></div>
                </div>
                
                <div class="transport-details fade-in-section">
                    <div class="transport-item">
                        <span class="transport-icon">🚇</span>
                        <div class="transport-text">
                            <h4>지하철</h4>
                            <p>1호선 갑천역 3번 출구, 도보시간 14분</p>
                            <p>1호선 유성온천역 8번출구, 도보시간 20분</p>
                        </div>
                    </div>
            
                    <div class="transport-item">
                        <span class="transport-icon">🚌</span>
                        <div class="transport-text">
                            <h4>버스</h4>
                            <p>시내버스: 102번, 108번, 706번, 106번, 113번 승차 시 홈플러스 유성점에서 하차</p>
                        </div>
                    </div>
            
                    <div class="transport-item">
                        <span class="transport-icon">🚗</span>
                        <div class="transport-text">
                            <h4>자가용</h4>
                            <p>유성IC → 홈플러스 유성점 → 갑천변 유성컨벤션웨딩홀 (약 3.7Km)</p>
                        </div>
                    </div>

                    <div class="transport-item">
                        <span class="transport-icon">🅿️</span>
                        <div class="transport-text">
                            <h4>주차</h4>
                            <p>유성컨벤션웨딩홀 건물 주차장, 유성컨벤션 맞은 편 부지 공간 주차 가능<br>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 푸터 배경색 추가 -->
            <footer class="footer">
                <!-- 기존 푸터 내용 -->
            </footer>

        </div>
        <div class="music-controls">
            <div class="music-controls-container">
                <!-- 웨이브 시각화 추가 -->
                <div class="music-visualizer" id="music-visualizer">
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                </div>
                
                <button id="play-music" class="music-btn">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 448.075 448.075" xml:space="preserve" width="18px" height="18px">
                        <path d="M352.021,16.075c0-6.08-3.52-11.84-8.96-14.4c-5.76-2.88-12.16-1.92-16.96,1.92l-141.76,112.96l167.68,167.68V16.075z"></path>
                        <path d="M443.349,420.747l-416-416c-6.24-6.24-16.384-6.24-22.624,0s-6.24,16.384,0,22.624l100.672,100.704h-9.376 c-9.92,0-18.56,4.48-24.32,11.52c-4.8,5.44-7.68,12.8-7.68,20.48v128c0,17.6,14.4,32,32,32h74.24l155.84,124.48 c2.88,2.24,6.4,3.52,9.92,3.52c2.24,0,4.8-0.64,7.04-1.6c5.44-2.56,8.96-8.32,8.96-14.4v-57.376l68.672,68.672 c3.136,3.136,7.232,4.704,11.328,4.704s8.192-1.568,11.328-4.672C449.589,437.131,449.589,427.019,443.349,420.747z"></path>
                    </svg>
                </button>
                <button id="pause-music" class="music-btn">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 480 480" xml:space="preserve" width="18px" height="18px">
                        <path d="M278.944,17.577c-5.568-2.656-12.128-1.952-16.928,1.92L106.368,144.009H32c-17.632,0-32,14.368-32,32v128 c0,17.664,14.368,32,32,32h74.368l155.616,124.512c2.912,2.304,6.464,3.488,10.016,3.488c2.368,0,4.736-0.544,6.944-1.6 c5.536-2.656,9.056-8.256,9.056-14.4v-416C288,25.865,284.48,20.265,278.944,17.577z"></path>
                        <path d="M368.992,126.857c-6.304-6.208-16.416-6.112-22.624,0.128c-6.208,6.304-6.144,16.416,0.128,22.656 C370.688,173.513,384,205.609,384,240.009s-13.312,66.496-37.504,90.368c-6.272,6.176-6.336,16.32-0.128,22.624 c3.136,3.168,7.264,4.736,11.36,4.736c4.064,0,8.128-1.536,11.264-4.64C399.328,323.241,416,283.049,416,240.009 S399.328,156.777,368.992,126.857z"></path>
                        <path d="M414.144,81.769c-6.304-6.24-16.416-6.176-22.656,0.096c-6.208,6.272-6.144,16.416,0.096,22.624 C427.968,140.553,448,188.681,448,240.009s-20.032,99.424-56.416,135.488c-6.24,6.24-6.304,16.384-0.096,22.656 c3.168,3.136,7.264,4.704,11.36,4.704c4.064,0,8.16-1.536,11.296-4.64C456.64,356.137,480,299.945,480,240.009 S456.64,123.881,414.144,81.769z"></path>
                    </svg>
                </button>
            </div>
            <audio id="background-music" loop>
                <source src="https://s3.rollinginpapercard.com/music/forest_morning.mp3" type="audio/mpeg">
            </audio>
        </div>
    </div>
</body>
</html>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Noto Sans KR', sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #fff;
    }

    .template-app-wrapper {
        margin: auto;
        padding: 0;
        box-sizing: border-box;
    }
    .mcard-view {
        position: relative;
        width: 100%;
        max-width: 430px;
        padding: 0;
        margin: auto;
        color: var(--text-color);
        background: var(--primary-bg-color);
        background-image: var(--primary-bg-image);
        -ms-overflow-style: none;
        line-height: 2rem;
        font-family: var(--font-regular), serif;
        letter-spacing: var(--font-regular-spacing);
        box-shadow: 0 0 0 1px rgba(0, 0, 0, .04);
    }

    .header {
        height: 100%;
        width: 100%;
        display: flex;
        align-items: flex-start;
        justify-content: center;
        background-color: transparent;
        padding: 0px;
        position: relative;
        overflow: hidden;  /* 추가 */
    }

    .header-content {
        text-align: center;
        width: 100%;
        height: 100%;  /* 변경: 100vh -> 100% */
        display: flex;
        flex-direction: column;
        position: relative;
    }
    .names {
        padding: 55px 0px 20px 0px;
        margin-bottom: 0;
        font-family: 'Playfair Display', serif;
        font-weight: 300;
    }

    .name-row {
        font-size: 18px;
        color: #333;
        letter-spacing: 5px;  /* 글자 간격 넓게 */
        line-height: 2;  /* 줄 간격 조정 */
    }

    .title {
        font-size: 32px;
        color: #4a6741;  /* 초록색 계열 */
        font-family: 'Noto Serif KR', serif;
        font-weight: 300;  /* light 굵기 */
        margin-bottom: 30px;
    }

    .header-image {
        width: 100%;
        max-width: none;
        margin: 0;
        overflow: hidden;
    }

    .header-image img {
        width: 100%;
        height: auto;
        display: block;
    }

    .wedding-date-place {
        margin-top: 30px;
        line-height: 1.8;
        font-family: 'Noto Serif KR', serif;
        font-weight: 300;  /* light 굵기 */
        margin-bottom: 50px;
    }

    .wedding-date {
        font-size: 16px;
        color: #666;
        margin-bottom: 5px;
    }

    .wedding-place {
        font-size: 16px;
        color: #666;
    }

    .wedding-info {
        text-align: center;
        padding: 30px 0;
    }

    .wedding-info p {
        margin: 10px 0;
        font-size: 16px;
    }

    .date-time img {
        width: 100%;
        height: auto;
        max-width: 100%;
        object-fit: contain;  /* 이미지 비율 유지 */
        image-rendering: -webkit-optimize-contrast;  /* 웹킷 브라우저에서 선명도 향상 */
        image-rendering: crisp-edges;  /* 이미지 선명도 향상 */
        transform: translateZ(0);  /* 하드웨어 가속 활성화 */
        backface-visibility: hidden;  /* 렌더링 품질 향상 */
        -webkit-font-smoothing: antialiased;  /* 텍스트 선명도 향상 */
        filter: brightness(1.02) contrast(1.02);  /* 약간의 밝기와 대비 증가 */
    }

    .date-time {
        background-color: transparent;
        padding: 40px 0px 20px 0px;
    }

    .location {
        margin: 20px 0;
    }

    .location p {
        margin: 5px 0;
    }

    .map-link {
        display: inline-block;
        margin-top: 10px;
        padding: 10px 20px;
        background-color: #e74c3c;
        color: white;
        text-decoration: none;
        border-radius: 5px;
    }
    
    .gallery-section {
        padding: 20px;
        height: 440px;
        background-color: #f8f8f8;
    }

    .gallery-header {
        text-align: center;
        font-size: 28px;
        font-family: 'Cormorant Garamond', serif;
        font-weight: 300;
        color: #131212;
        margin-top: 20px;
    }

    @media (max-width: 480px) {
        .couple-names {
            font-size: 24px;
        }
        
        .wedding-info p {
            font-size: 14px;
        }
    }


    /* 꽃잎 스타일 */
    .petals-container {
        position: absolute;
        width: 100%;
        height: 300vh; /* 화면 높이의 3배로 설정 (갤러리 섹션 전까지) */
        overflow: hidden;
        z-index: 3;
        pointer-events: none;
        perspective: 1000px;
        top: 0;
        left: 0;
    }

    /* 하트 터치 효과 */
    .touch-heart {
        position: fixed;
        font-size: 20px;
        color: #ff6b8a;
        pointer-events: none;
        z-index: 1000;
        user-select: none;
        text-shadow: 0 0 10px rgba(255, 107, 138, 0.5);
    }

    @keyframes heartFloat {
        0% {
            transform: translateY(0) scale(0.5);
            opacity: 0;
        }
        10% {
            opacity: 1;
            transform: translateY(-10px) scale(1);
        }
        100% {
            transform: translateY(-100px) scale(1.2);
            opacity: 0;
        }
    }

    .petal {
        position: absolute;
        width: 20px;
        height: 20px;
        opacity: 0;
        filter: blur(0.2px);
        will-change: transform;
        transform-origin: center center;
        transition: all 0.3s ease;
    }

    /* 챕터 2 */
    .greeting-section {
        display: flex;
        flex-direction: column;
        text-align: center;
    }

    .greeting-content {
        flex: 1;  /* 남은 공간 차지 */
        padding: 80px 20px 80px 20px;
        max-width: 600px;
        margin: 0 auto;
    }

    .greeting-title {
        font-family: 'Noto Serif KR', serif;
        font-weight: 300;
        font-size: 24px;
        color: #9b9999;
        margin-bottom: 40px;
        letter-spacing: 5px;
        position: relative;
        overflow: hidden;
        opacity: 1;
        min-height: 40px; /* 레이아웃 유지를 위한 최소 높이 */
    }

    /* 타이핑 효과를 위한 스타일 */
    .greeting-title.typing {
        opacity: 1;
    }

    .greeting-title.typing::after {
        content: '|';
        color: #d4687a;
        animation: blink 1s infinite;
        margin-left: 3px;
    }

    @keyframes blink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
    }

    .greeting-text {
        font-family: 'Noto Serif KR', serif;
        font-weight: 300;
        font-size: 15px;
        line-height: 2;
        color: #666;
        margin-bottom: 50px;
    }





    .greeting-text p {
        margin: 10px 0;
    }

    .parents-info {
        margin-top: 20px;
        font-family: 'Noto Serif KR', serif;
        font-weight: 300;
        margin-bottom: 30px;
    }

    .parent-row {
        margin: 15px 0;
        font-size: 15px;
        color: #333;
    }

    .parent-title {
        letter-spacing: 1px;
    }

    .parent-desc {
        color: #666;
        margin: 0px 10px 0px 2px;
    }

    .parent-name {
        margin-left: 5px;
        color: #333;
    }

    .greeting-image-wrapper {
        width: 100%;
        position: relative;
        margin-top: auto;  /* 하단으로 밀기 */
    }

    .greeting-image-wrapper  img {
        width: 100%;
        height: auto;
        display: block;
    }

    .image-line-overlay {
        width: 90%;
        margin: 20px auto;  /* 위아래 여백 추가 */
        position: relative;
    }

    .line {
        display: block;
        height: 1px;
        width: 100%;
        background-color: #666;  /* 선 색상을 텍스트 색상과 맞춤 */
        opacity: 0.3;  /* 투명도 조정 */
    }

    @media (max-width: 768px) {
        .greeting-image {
            height: 300px;
        }
        
        .image-line-overlay {
            width: 80%;  /* 모바일에서 선 길이 조절 */
        }
    }

    @media (max-width: 480px) {
        .greeting-title {
            font-size: 20px;
        }
        
        .greeting-text {
            font-size: 14px;
        }
        
        .parent-row {
            font-size: 14px;
        }
    }

    /*웨딩 사진 슬라이드*/
    #weddingCarousel {
        max-width: 1200px;
        margin: 0 auto;
    }
    .gallery-grid {
        padding-top: 15px;
        display: flex;
        flex-direction: column;
        gap: 20px;
        width: 100%;
        max-width: 1200px;
    }
    .gallery-row {
        display: flex;
        justify-content: center;
        gap: 20px;
        width: 100%;
    }

    .gallery-row img {
        width: calc(33.333% - 14px);
        height: 250px;  /* 이미지 높이 고정 */
        object-fit: cover;
        transition: transform 0.3s ease;
    }
    /* 확대된 이미지를 위한 스타일 */
    .image-expanded {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            135deg, 
            rgba(253, 241, 242, 0.95) 0%,
            rgba(247, 242, 243, 0.95) 50%,
            rgba(255, 244, 245, 0.856) 100%
        );
        backdrop-filter: blur(8px);
        z-index: 1000;
        display: flex;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
    }

    .expanded-image-container {
        position: relative;
        max-width: 90%;
        max-height: 90vh;
    }
    .expanded-image-container img {
        max-width: 100%;
        max-height: 90vh;
        object-fit: contain;
    }

    /* 애니메이션 추가 */
    .expanded-image-container img {
        animation: scaleIn 0.3s ease;
    }

    .close-button {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        color: rgb(77, 77, 77);
        font-size: 24px;
        cursor: pointer;
        z-index: 1001;
        padding: 10px;
    }

    .nav-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        padding: 20px;
        z-index: 1001;
    }

    .prev-button {
        left: 20px;
    }

    .next-button {
        right: 20px;
    }

    .close-button:hover,
    .nav-button:hover {
        opacity: 0.8;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes scaleIn {
        from {
            transform: scale(0.95);
        }
        to {
            transform: scale(1);
        }
    }

    /* 모바일 대응 */ 
    @media (max-width: 768px) {
        .gallery-row {
            gap: 10px;
            padding: 0 20px;
        }
        
        .gallery-row img {
            width: calc(33%);
            height: 200px;
        }

        .gallery-header {
            font-size: 24px;
            margin-bottom: 20px;
        }
    }

    .carousel-item {
        position: relative;
        height: 600px;  /* 이미지 높이 고정 */
    }

    .carousel-item img {
        height: 100px;
        object-fit: cover;
        object-position: center;
    }

    /* 인디케이터 스타일 커스텀 */
    .carousel-indicators [data-bs-target] {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background-color: rgba(209, 209, 209, 0.7);
        margin: 0 6px;
    }

    .carousel-indicators .active {
        background-color: #1a1919;
    }

    /* 이전/다음 버튼 스타일 커스텀 */
    .carousel-control-prev,
    .carousel-control-next {
        display: none;
    }

    #weddingCarousel:hover .carousel-control-prev,
    #weddingCarousel:hover .carousel-control-next {
        opacity: 0.8;
    }

    /* 모바일 대응 */
    @media (max-width: 768px) {
        .carousel-item {
            height: 320px;
        }
    }

    /* D-DAY 카운트다운 섹션 */
    .dday-section {
        padding: 60px 20px;
        background: #fafafa;
        text-align: center;
        position: relative;
    }

    .dday-container {
        max-width: 500px;
        margin: 0 auto;
    }

    .dday-title {
        font-family: 'Noto Serif KR', serif;
        font-size: 18px;
        font-weight: 300;
        color: #666;
        margin-bottom: 40px;
        letter-spacing: 2px;
    }

    .dday-counter {
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-bottom: 30px;
        background: white;
        padding: 30px 20px;
        border-radius: 8px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        border: 1px solid #f0f0f0;
    }

    .counter-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
    }

    .counter-number {
        font-size: 32px;
        font-weight: 300;
        color: #333;
        font-family: 'Noto Serif KR', serif;
        margin-bottom: 8px;
        transition: all 0.3s ease;
    }

    .counter-label {
        font-size: 12px;
        color: #999;
        font-weight: 400;
        letter-spacing: 0.5px;
        font-family: 'Noto Serif KR', serif;
    }

    .dday-message {
        font-family: 'Noto Serif KR', serif;
        font-size: 14px;
        color: #666;
        font-weight: 300;
        opacity: 0.8;
    }

    .dday-message p {
        margin: 0;
    }

    @media (max-width: 480px) {
        .dday-section {
            padding: 40px 20px;
        }
        
        .dday-counter {
            padding: 25px 15px;
        }
        
        .counter-number {
            font-size: 24px;
        }
        
        .counter-label {
            font-size: 11px;
        }
        
        .dday-title {
            font-size: 16px;
        }
        
        .dday-message {
            font-size: 13px;
        }
    }

    /* 위치 섹션 */
    .location-section {
        padding: 60px 20px 30px 20px;
        background-color: #fff;
        text-align: center;
    }

    .section-title {
        font-family: 'Noto Serif KR', serif;
        font-weight: bold;
        font-size: 20px;
        color: #a77979;
        letter-spacing: 3px;
        margin-bottom: 10px;
    }

    .sub-title {
        font-family: 'Noto Serif KR', serif;
        font-size: 24px;
        color: #745b5bcb;
        margin-bottom: 40px;
        font-weight: 300;
    }

    .venue-info {
        margin-bottom: 30px;
    }

    .venue-name {
        font-size: 18px;
        color: #333;
        font-family: 'Noto Serif KR', serif;
        margin-bottom: 10px;
        font-weight: 500;
    }

    .venue-address {
        font-family: 'Noto Serif KR', serif;
        font-size: 16px;
        color: #666;
    }

    .map-container {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        max-width: 600px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;  /* 세로 방향으로 배치 */
    }

    #map {
        width: 100%;
        height: 350px;
        border-bottom: 1px solid #f0f0f0;
    }

    .map-container {
        background: #f8f8f8;  /* 배경색을 약간 회색으로 변경 */
        border-radius: 12px;
        overflow: hidden;
        max-width: 600px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
    }

    #map {
        width: 100%;
        height: 350px;
    }

    .transport-item {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
        margin-bottom: 15px;
    }

    .transport-icon {
        font-size: 24px;
    }

    .transport-text {
        text-align: left;
    }

    .transport-text h4 {
        font-size: 16px;
        color: #333;
        margin-bottom: 5px;
    }

    .transport-text p {
        font-size: 14px;
        color: #666;
    }

    .transport-details {
        margin: 50px 0px 0px 0px;
    }

    .transport-item {
        display: flex;
        align-items: flex-start;
        gap: 15px;
        margin-bottom: 30px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        text-align: left;
    }

    .transport-icon {
        font-size: 24px;
        flex-shrink: 0;
        margin-top: 3px;
    }

    .transport-text {
        flex: 1;
    }

    .transport-text h4 {
        font-size: 16px;
        color: #333;
        margin-bottom: 8px;
        font-weight: 500;
    }

    .transport-text p {
        font-size: 14px;
        color: #666;
        line-height: 1.6;
        margin-bottom: 5px;
    }

    .notice-content {
        color: #666;
        font-size: 14px;
        line-height: 1.8;
    }

    .notice-content p {
        margin-bottom: 15px;
    }

    .notice-content p:last-child {
        margin-bottom: 0;
    }

    @media (max-width: 768px) {
        .transport-item {
            padding: 0 20px;
        }
    }

    @media (max-width: 768px) {
        .section-title {
            font-size: 18px;
        }

        .sub-title {
            font-size: 20px;
        }
    }

    /* 계좌이체 섹션 */
    .account-section {
        padding: 40px 20px 40px 20px;
        text-align: center;
        background: #fff;
    }

    .section-title {
        font-size: 20px;
        color: #333;
        margin-bottom: 15px;
        font-weight: 400;
    }

    .section-subtitle {
        font-size: 14px;
        color: #666;
        margin-bottom: 30px;
        line-height: 1.5;
    }

    .account-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
        max-width: 500px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .account-button {
        margin: 0 auto;
        width: 90%;
        padding: 10px;
        border: none;
        border-radius: 25px;
        background-color: #f0f0f0;
        color: #333;
        font-size: 15px;
        cursor: pointer;
        transition: background-color 0.2s ease;
        font-family: 'Noto Serif KR', serif;
    }

    .account-button:hover {
        background-color: #e5e5e5;
    }

    /* 연락처 섹션 */
    .contact-section {
        padding: 30px 50px;
        background: #fff;
    }

    .contact-list {
        max-width: 500px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 5px;  /* 간격 증가 */
    }

    .contact-item {
        display: flex;
        justify-content: flex-start;  /* 왼쪽 정렬로 변경 */
        align-items: center;
        padding: 5px 0;
    }

    .contact-info {
        display: flex;
        align-items: center;
        gap: 20px;  /* 간격 증가 */
        flex: 1;  /* 남은 공간 차지 */
    }

    .contact-label {
        font-family: 'Noto Serif KR', serif;
        color: #999;  /* 색상 더 연하게 */
        font-size: 15px;
        min-width: 40px;
    }

    .contact-name {
        font-family: 'Noto Serif KR', serif;
        color: #333;
        font-size: 15px;
        font-weight: 400;
    }

    .contact-buttons {
        display: flex;
        gap: 20px;  /* 버튼 사이 간격 조정 */
        margin-left: auto;  /* 오른쪽 정렬 */
    }

    .contact-button {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        text-decoration: none;
    }

    .contact-button i {
        font-size: 20px;
        color: #999;  /* 회색으로 변경 */
    }

    /* 공유 섹션 */
    .section-divider {
        width: 100%;
        height: 1px;
        background-color: #f1f1f1;
        border: none;
        margin: 10px auto;
    }

    .share-section {
        padding: 20px;
        background: #fff;
        margin-bottom: 10px;
    }

    .share-buttons {
        display: flex;
        justify-content: center;
        gap: 12px;
        max-width: 500px;
        margin: 0 auto;
    }

    .share-button {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 10px;
        text-decoration: none;
        font-size: 11px;
        border-radius: 20px;  /* 더 둥근 모서리 */
        color: #333;
    }

    .share-button.kakao .share-icon {
        width: 25px;
        height: 25px;
        padding: 2px;
    }

    .share-button.url .share-icon {
        width: 18px;
        height: 18px;
        opacity: 0.7;
    }

    .share-icon {
        width: 18px;
        height: 18px;
        object-fit: contain;
    }

    @media (max-width: 768px) {
        .share-buttons {
            padding: 0 10px;
        }
    }
    
    .footer {
        background-color: #f1f1f1;
        padding: 25px;
        text-align: center;
    }

    /* 애니메이션 관련 CSS 추가 */
    .fade-in-section {
        opacity: 0;
        transform: translateY(30px);
        visibility: hidden;
        transition: all 1s ease-out;
        will-change: opacity, visibility, transform;
    }

    .fade-in-section.is-visible {
        opacity: 1;
        transform: translateY(0);
        visibility: visible;
    }

    /* 각 섹션별로 딜레이를 다르게 주고 싶다면 */
    .fade-in-section:nth-child(2) {
        transition-delay: 0.2s;
    }
    .fade-in-section:nth-child(3) {
        transition-delay: 0.3s;
    }
    .fade-in-section:nth-child(4) {
        transition-delay: 0.4s;
    }

    /* 스크롤 다운 시 애니메이션 효과 */
    .fade-in-section.fade-out {
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.8s ease-out;
    }

    .music-controls {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
    }

    .music-controls-container {
        width: 100%;
        text-align: right;
        padding: 10px 15px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 15px;
    }

    /* 웨이브 시각화 스타일 */
    .music-visualizer {
        display: flex;
        align-items: flex-end;
        gap: 2px;
        height: 20px;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .music-visualizer.active {
        opacity: 0.8;
    }

    .wave-bar {
        width: 2px;
        height: 4px;
        background: linear-gradient(to top, #ff6b8a, #ff8fa3);
        border-radius: 1px;
        animation: wave-dance 0.8s ease-in-out infinite;
        transform-origin: bottom;
    }

    .wave-bar:nth-child(1) {
        animation-delay: 0s;
    }

    .wave-bar:nth-child(2) {
        animation-delay: 0.1s;
    }

    .wave-bar:nth-child(3) {
        animation-delay: 0.2s;
    }

    .wave-bar:nth-child(4) {
        animation-delay: 0.3s;
    }

    .wave-bar:nth-child(5) {
        animation-delay: 0.4s;
    }

    @keyframes wave-dance {
        0%, 100% {
            height: 4px;
            opacity: 0.6;
        }
        25% {
            height: 12px;
            opacity: 1;
        }
        50% {
            height: 8px;
            opacity: 0.8;
        }
        75% {
            height: 16px;
            opacity: 1;
        }
    }

    .music-btn {
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
        margin-left: 0;
        opacity: 0.7;
        transition: all 0.3s ease;
        border-radius: 50%;
        position: relative;
        overflow: hidden;
    }

    .music-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(circle, rgba(255, 107, 138, 0.2) 0%, transparent 70%);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: all 0.3s ease;
        z-index: -1;
    }

    .music-btn.playing::before {
        width: 40px;
        height: 40px;
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.3;
        }
        50% {
            transform: translate(-50%, -50%) scale(1.2);
            opacity: 0.1;
        }
    }

    .music-btn svg {
        fill: #666;
        transition: fill 0.3s ease;
    }

    .music-btn:hover {
        opacity: 1;
        transform: scale(1.1);
    }

    .music-btn:hover svg {
        fill: #ff6b8a;
    }

    .music-btn.playing svg {
        fill: #ff6b8a;
    }

    #pause-music {
        display: none;
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const galleryImages = document.querySelectorAll('.gallery-row img');
        let currentImageIndex = 0;
        
        galleryImages.forEach((img, index) => {
            img.addEventListener('click', function(e) {
                e.stopPropagation();
                showExpandedImage(index);
            });
        });

        function showExpandedImage(index) {
            currentImageIndex = index;
            
            const expandedDiv = document.createElement('div');
            expandedDiv.classList.add('image-expanded');
            
            // 이미지 컨테이너 추가
            const imageContainer = document.createElement('div');
            imageContainer.classList.add('expanded-image-container');
            
            // 닫기 버튼 추가
            const closeButton = document.createElement('button');
            closeButton.classList.add('close-button');
            closeButton.innerHTML = '<i class="bi bi-x-lg"></i>';
            
            // 이미지 추가
            const expandedImg = new Image();
            expandedImg.src = galleryImages[currentImageIndex].src;
            expandedImg.alt = galleryImages[currentImageIndex].alt;
            
            // 네비게이션 버튼 추가
            const prevButton = document.createElement('button');
            prevButton.classList.add('nav-button', 'prev-button');
            prevButton.innerHTML = '<i class="bi bi-chevron-left"></i>';
            
            const nextButton = document.createElement('button');
            nextButton.classList.add('nav-button', 'next-button');
            nextButton.innerHTML = '<i class="bi bi-chevron-right"></i>';
            
            // 요소들 조립
            imageContainer.appendChild(expandedImg);
            expandedDiv.appendChild(closeButton);
            expandedDiv.appendChild(prevButton);
            expandedDiv.appendChild(nextButton);
            expandedDiv.appendChild(imageContainer);
            document.body.appendChild(expandedDiv);
            
            // History API를 사용하여 뒤로가기 버튼 처리
            history.pushState({ imageExpanded: true }, '', '');
            
            // 팝업 닫기 함수
            function closePopup() {
                if (document.body.contains(expandedDiv)) {
                    document.body.removeChild(expandedDiv);
                }
                // popstate 이벤트 리스너 제거
                window.removeEventListener('popstate', handlePopState);
            }
            
            // popstate 이벤트 핸들러
            function handlePopState(event) {
                if (!event.state || !event.state.imageExpanded) {
                    closePopup();
                }
            }
            
            // popstate 이벤트 리스너 추가
            window.addEventListener('popstate', handlePopState);
            
            // 이벤트 리스너 추가
            closeButton.addEventListener('click', () => {
                closePopup();
                history.back();
            });
            
            prevButton.addEventListener('click', (e) => {
                e.stopPropagation();
                currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
                expandedImg.src = galleryImages[currentImageIndex].src;
            });
            
            nextButton.addEventListener('click', (e) => {
                e.stopPropagation();
                currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
                expandedImg.src = galleryImages[currentImageIndex].src;
            });
            
            // 스와이프 기능 추가
            let touchStartX = 0;
            let touchEndX = 0;
            
            expandedDiv.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
            });
            
            expandedDiv.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeDistance = touchEndX - touchStartX;
                if (Math.abs(swipeDistance) > 50) {
                    if (swipeDistance > 0) {
                        // 오른쪽으로 스와이프 - 이전 이미지
                        prevButton.click();
                    } else {
                        // 왼쪽으로 스와이프 - 다음 이미지
                        nextButton.click();
                    }
                }
            }
        }
    });
    </script>

<script>
naver.maps.onJSContentLoaded = function() {
    const mapOptions = {
        center: new naver.maps.LatLng(36.3562313, 127.3514617), // 유성컨벤션웨딩홀 좌표
        zoom: 17,
        zoomControl: true,
        zoomControlOptions: {
            position: naver.maps.Position.TOP_RIGHT
        }
    };

    const map = new naver.maps.Map('map', mapOptions);
    
    // 더 작은 핑크 핀 마커 아이콘
    const markerIcon = {
        content: `
            <svg width="28" height="38" viewBox="0 0 28 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#shadow)">
                    <path d="M14 1.5C6.5 1.5 1.5 7.5 1.5 14.5C1.5 24 14 36.5 14 36.5C14 36.5 26.5 24 26.5 14.5C26.5 7.5 21.5 1.5 14 1.5Z" fill="#FF4F8B"/>
                    <circle cx="14" cy="15" r="8" fill="white"/>
                </g>
                <defs>
                    <filter id="shadow" x="0" y="0" width="28" height="38" filterUnits="userSpaceOnUse">
                        <feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#000" flood-opacity="0.12"/>
                    </filter>
                </defs>
            </svg>
        `,
        size: new naver.maps.Size(28, 38),
        anchor: new naver.maps.Point(14, 38)
    };

    // 커스텀 마커 생성
    const marker = new naver.maps.Marker({
        position: new naver.maps.LatLng(36.3562313, 127.3514617),
        map: map,
        icon: markerIcon
    });

    // 더 고급스러운 정보창 HTML
    const infoWindow = new naver.maps.InfoWindow({
        content: [
            '<div style="padding:16px 20px;min-width:200px;line-height:1.7;background:linear-gradient(135deg,#f8f6f4 0%,#ece9e6 100%);border-radius:14px;box-shadow:0 2px 10px rgba(60,60,60,0.08);font-family: \'Playfair Display\', \'Cormorant Garamond\', \'Noto Serif KR\', serif; text-align:center;">',
            '<h4 style="margin:0 0 8px 0;font-size:16px;color:#7c3a2d;font-weight:600;letter-spacing:0.5px;font-family: \'Playfair Display\', \'Cormorant Garamond\', serif;">유성컨벤션웨딩홀 3층 그랜드홀</h4>',
            '<div style="font-size:13px;color:#444;margin-bottom:4px;font-family: \'Cormorant Garamond\', \'Noto Serif KR\', serif;">대전광역시 유성구 온천북로77</div>',
            '<div style="margin-top:6px;font-size:12px;color:#7a6f6f;font-style:italic;font-family: \'Cormorant Garamond\', \'Noto Serif KR\', serif;">2025년 8월 23일 토요일 오후 2시</div>',
            '</div>'
        ].join('')
    });

    // 마커 클릭시 정보창 표시
    naver.maps.Event.addListener(marker, "click", function(e) {
        if (infoWindow.getMap()) {
            infoWindow.close();
        } else {
            infoWindow.open(map, marker);
        }
    });
};
</script>
<script>
    document.querySelectorAll('.copy-btn').forEach(button => {
        button.addEventListener('click', function() {
            const accountNumber = this.closest('.account-item')
                .querySelector('.account-number').textContent;
            navigator.clipboard.writeText(accountNumber)
                .then(() => {
                    this.textContent = '복사됨';
                    setTimeout(() => {
                        this.textContent = '복사';
                    }, 1500);
                });
        });
    });
    
    document.querySelectorAll('.account-header').forEach(header => {
        header.addEventListener('click', function() {
            const content = this.nextElementSibling;
            const icon = this.querySelector('.toggle-icon');
            content.style.display = content.style.display === 'none' ? 'block' : 'none';
            icon.style.transform = content.style.display === 'none' ? 'rotate(0deg)' : 'rotate(180deg)';
        });
    });
    // URL 복사 버튼 기능
    document.querySelector('.share-button.url').addEventListener('click', function(e) {
        e.preventDefault();
        navigator.clipboard.writeText(window.location.href)
            .then(() => {
                alert('URL이 복사되었습니다.');
            });
    });
    document.addEventListener('DOMContentLoaded', function() {
        // Intersection Observer 설정
        const observerOptions = {
            root: null,
            rootMargin: "-30% 0px", // 화면 중앙 근처에 도달했을 때 감지
            threshold: [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
        };

        const observer = new IntersectionObserver(function(entries, observer) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    // 한 번 나타난 섹션은 더 이상 관찰하지 않음
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        // 모든 fade-in-section 클래스를 가진 요소들을 관찰
        const fadeElems = document.querySelectorAll('.fade-in-section');
        fadeElems.forEach(elem => observer.observe(elem));
    });

    function toggleAccounts(type) {
        // 기존 팝업이 있다면 제거
        const existingPopup = document.querySelector('.account-popup');
        if (existingPopup) {
            existingPopup.remove();
        }

        // 계좌 정보 설정
        const accountInfo = {
            groom: {
                title: '신랑측 계좌번호',
                accounts: [
                    {
                        name: '신랑 이태민',
                        bank: '국민은행',
                        number: '123-456-000000'
                    }
                    // 필요한 경우 더 많은 계좌 추가
                ]
            },
            bride: {
                title: '신부측 계좌번호',
                accounts: [
                    {
                        name: '신부 김혜현',
                        bank: '국민은행',
                        number: '605102-04-161344'
                    },
                    {
                        name: '혼주 김기수',
                        bank: '농협은행',
                        number: '631-12-331336'
                    },
                    {
                        name: '혼주 허미숙',
                        bank: '기업은행',
                        number: '010-4484-1467'
                    }
                ]
            }
        };

        // 팝업 생성
        const popup = document.createElement('div');
        popup.className = 'account-popup';
        
        // 팝업 내용 생성
        const content = `
            <div class="popup-content">
                <div class="popup-header">
                    <h3>${accountInfo[type].title}</h3>
                    <button class="close-button">×</button>
                </div>
                <div class="popup-body">
                    ${accountInfo[type].accounts.map(account => `
                        <div class="account-info-row">
                            <div class="account-details">
                                <div class="account-name">${account.name}</div>
                                <div class="account-bank">${account.bank}</div>
                                <div class="account-number">${account.number}</div>
                            </div>
                            <button class="copy-button" 
                                data-number="${account.number}"
                                data-bank="${account.bank}">복사하기</button>
                        </div>
                    `).join('')}
                </div>
                <button class="close-popup-button">닫기</button>
            </div>
        `;

        popup.innerHTML = content;
        document.body.appendChild(popup);

        // 스타일 추가
        const style = document.createElement('style');
        style.textContent = `
            .account-popup {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            }

            .popup-content {
                background: white;
                width: 90%;
                max-width: 400px;
                border-radius: 12px;
                overflow: hidden;
            }

            .popup-header {
                padding: 20px;
                border-bottom: 1px solid #eee;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .popup-header h3 {
                margin: 0;
                font-size: 18px;
                font-weight: 500;
            }

            .close-button {
                background: none;
                border: none;
                font-size: 24px;
                cursor: pointer;
                color: #999;
            }

            .popup-body {
                padding: 10px 20px;
            }

            .account-info-row {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px 0;
                border-bottom: 1px solid #eee;
            }

            .account-info-row:last-child {
                border-bottom: none;
            }

            .account-details {
                flex: 1;
            }

            .account-name {
                font-weight: 600;
                font-size: 15px;
                margin-bottom: 5px;
            }

            .account-bank {
                font-size: 14px;
                color: #666;
                margin-bottom: 5px;
            }

            .account-number {
                font-size: 16px;
                font-weight: 500;
            }

            .copy-button {
                padding: 8px 16px;
                background: #f8f8f8;
                border: none;
                border-radius: 6px;
                color: #333;
                cursor: pointer;
                font-size: 14px;
            }

            .copy-button:hover {
                background: #f0f0f0;
            }

            .close-popup-button {
                width: 100%;
                padding: 15px;
                border: none;
                background: #f8f8f8;
                color: #333;
                font-size: 15px;
                cursor: pointer;
            }

            .close-popup-button:hover {
                background: #f0f0f0;
            }
        `;
        document.head.appendChild(style);

        // 이벤트 리스너 추가
        const closeButtons = popup.querySelectorAll('.close-button, .close-popup-button');
        closeButtons.forEach(button => {
            button.addEventListener('click', () => {
                popup.remove();
            });
        });

        // 복사 버튼 기능
        const copyButtons = popup.querySelectorAll('.copy-button');
        copyButtons.forEach(button => {
            button.addEventListener('click', () => {
                const number = button.dataset.number;
                const bank = button.dataset.bank;
                const copyText = `${bank} ${number}`;  // 은행명과 계좌번호를 함께 복사
                
                navigator.clipboard.writeText(copyText).then(() => {
                    button.textContent = '복사됨';
                    setTimeout(() => {
                        button.textContent = '복사하기';
                    }, 1500);
                });
            });
        });

        // 배경 클릭시 팝업 닫기
        popup.addEventListener('click', (e) => {
            if (e.target === popup) {
                popup.remove();
            }
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        const container = document.querySelector('.petals-container');
        const numberOfPetals = 40; // 더 넓은 범위를 위해 꽃잎 개수 증가

        function createPetal(isInitial = false) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            
            const size = 10 + Math.random() * 12;  // 8-20px
            petal.style.width = `${size}px`;
            petal.style.height = `${size}px`;
            
            petal.style.left = `${Math.random() * 120 - 10}%`;
            
            // 초기 꽃잎은 화면 상단에서 시작
            if (isInitial) {
                petal.style.top = `${Math.random() * 10 - 5}%`; // 화면 -5% ~ 5% 위치에서 시작 (더 위쪽)
            } else {
                petal.style.top = '-60px'; // 화면 위쪽에서 더 멀리 시작
            }

            const colors = [
                '#ffd1dc',
                '#ffb7c5',
                '#ffc9d3',
                '#ffe1e6',
                '#fff0f3'
            ];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            const svgFill = randomColor.replace('#', '%23');
            petal.style.backgroundImage = `url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='${svgFill}' d='M12,1C8.1,1,5,4.1,5,8c0,2.4,1.2,4.5,3,5.7V15c0,2.2,1.8,4,4,4s4-1.8,4-4v-1.3c1.8-1.3,3-3.4,3-5.7 C19,4.1,15.9,1,12,1z'/%3E%3C/svg%3E")`;
            
            container.appendChild(petal);
            return petal;
        }

        function animatePetal(petal) {
            const duration = 12000 + Math.random() * 8000;  // 12-20초로 조정

            const points = [];
            const segments = 10;
            
            // 갤러리 섹션 전까지 떨어지도록 높이를 늘림
            const fallHeight = window.innerHeight * 2.5; // 화면 높이의 2.5배까지 떨어짐 (갤러리 섹션 전까지)
            
            for(let i = 0; i <= segments; i++) {
                const progress = i / segments;
                points.push({
                    // 좌우 움직임 범위 조절
                    x: Math.sin(progress * Math.PI * 2.5) * (80 + Math.random() * 40),
                    y: fallHeight * progress
                });
            }

            anime({
                targets: petal,
                translateX: [
                    { value: points[0].x, duration: 0 }, // 즉시 첫 번째 위치로
                    ...points.slice(1).map((point, index) => ({
                        value: point.x,
                        duration: duration / points.length,
                        delay: 0
                    }))
                ],
                translateY: [
                    { value: points[0].y, duration: 0 }, // 즉시 첫 번째 위치로
                    ...points.slice(1).map((point, index) => ({
                        value: point.y,
                        duration: duration / points.length,
                        delay: 0
                    }))
                ],
                rotate: [
                    { 
                        value: () => {
                            // 회전 속도 조절
                            const rotations = [-720, -540, 540, 720];
                            return rotations[Math.floor(Math.random() * rotations.length)];
                        },
                        duration: duration,
                        easing: 'easeInOutQuad'
                    }
                ],
                scale: [
                    { 
                        value: [1, 0.9, 1.1, 0.9, 1.1, 1],
                        duration: duration,
                        easing: 'easeInOutSine'
                    }
                ],
                opacity: [
                    { value: 0.7, duration: 0 }, // 즉시 나타남
                    { value: 0.7, duration: duration - 400 }, // 나머지 시간동안 유지
                    { value: 0, duration: 400 } // 빠르게 사라짐
                ],
                duration: duration,
                easing: 'linear',
                delay: 0, // 지연 없이 바로 시작
                complete: function() {
                    petal.remove();
                    const newPetal = createPetal();
                    setTimeout(() => animatePetal(newPetal), Math.random() * 1000);  // 재생성 간격을 더 빠르게
                }
            });
        }

        function startPetals() {
            // 초기 꽃잎 20개를 화면 상단에서 시작
            for (let i = 0; i < 20; i++) {
                const petal = createPetal(true);
                setTimeout(() => {
                    animatePetal(petal);
                }, i * 100); // 더 빠른 간격으로 생성
            }

            // 나머지 꽃잎들은 중간 꽃잎이 떨어지기 시작할 때 이어서 생성
            for (let i = 20; i < numberOfPetals; i++) {
                setTimeout(() => {
                    const petal = createPetal();
                    animatePetal(petal);
                }, i * 100 + Math.random() * 100);  // 생성 간격을 100ms로 조정
            }
        }

        startPetals();
        
        // 터치 하트 효과 초기화
        initTouchHearts();
        
        // 타이핑 애니메이션 초기화
        initTypingAnimation();
    });

    // 타이핑 애니메이션 함수
    function initTypingAnimation() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const target = entry.target;
                    
                    if (target.classList.contains('greeting-content')) {
                        // greeting-content가 화면에 나타나면 즉시 타이핑 시작
                        const greetingTitle = target.querySelector('.greeting-title');
                        if (greetingTitle) {
                            typeText(greetingTitle, '결혼합니다', 200);
                        }
                    }
                    
                    // 한 번만 실행하고 관찰 중단
                    observer.unobserve(target);
                }
            });
        }, {
            threshold: 0.5,
            rootMargin: '0px 0px -100px 0px'
        });

        // 관찰할 요소들 추가
        const greetingContent = document.querySelector('.greeting-content');
        
        if (greetingContent) observer.observe(greetingContent);
    }

    // 텍스트 타이핑 효과
    function typeText(element, text, speed = 150) {
        element.textContent = '';
        element.classList.add('typing');
        
        let i = 0;
        
        function type() {
            if (i < text.length) {
                element.textContent += text.charAt(i);
                i++;
                setTimeout(type, speed);
            } else {
                // 타이핑 완료 후 커서 제거
                setTimeout(() => {
                    element.classList.remove('typing');
                }, 1000);
            }
        }
        
        type();
    }



    // 터치 하트 효과 함수
    function initTouchHearts() {
        let touchStartTime;
        let touchStartPos;
        let isScrolling = false;
        
        // 터치 시작
        document.addEventListener('touchstart', function(e) {
            touchStartTime = Date.now();
            touchStartPos = {
                x: e.touches[0].clientX,
                y: e.touches[0].clientY
            };
            isScrolling = false;
        }, { passive: true });
        
        // 터치 이동 (스크롤 감지)
        document.addEventListener('touchmove', function(e) {
            if (touchStartPos) {
                const deltaX = Math.abs(e.touches[0].clientX - touchStartPos.x);
                const deltaY = Math.abs(e.touches[0].clientY - touchStartPos.y);
                
                // 스크롤 중인지 확인 (세로 이동이 가로 이동보다 클 때)
                if (deltaY > 10 && deltaY > deltaX) {
                    isScrolling = true;
                }
            }
        }, { passive: true });
        
        // 터치 끝
        document.addEventListener('touchend', function(e) {
            if (!touchStartPos) return;
            
            const touchDuration = Date.now() - touchStartTime;
            
            // 인터랙티브 요소 체크
            const target = document.elementFromPoint(touchStartPos.x, touchStartPos.y);
            if (target && (
                target.tagName === 'BUTTON' || 
                target.tagName === 'A' || 
                target.closest('button') || 
                target.closest('a') ||
                target.closest('.music-controls') ||
                target.closest('.account-popup') ||
                target.closest('.image-expanded') ||
                target.closest('.gallery-section') ||
                target.closest('.gallery-row') ||
                target.closest('.carousel') ||
                target.closest('.contact-button') ||
                target.closest('.share-button'))) {
                return;
            }
            
            // 짧은 터치이고 스크롤이 아닐 때만 하트 생성
            if (touchDuration < 300 && !isScrolling) {
                createHeart(touchStartPos.x, touchStartPos.y);
            }
        }, { passive: true });
        
        // 클릭 이벤트 (데스크톱)
        document.addEventListener('click', function(e) {
            // 인터랙티브 요소들을 클릭할 때는 하트 생성 안함
            if (e.target.tagName === 'BUTTON' || 
                e.target.tagName === 'A' || 
                e.target.closest('button') || 
                e.target.closest('a') ||
                e.target.closest('.music-controls') ||
                e.target.closest('.account-popup') ||
                e.target.closest('.image-expanded') ||
                e.target.closest('.gallery-section') ||
                e.target.closest('.gallery-row') ||
                e.target.closest('.carousel') ||
                e.target.closest('.contact-button') ||
                e.target.closest('.share-button')) {
                return;
            }
            
            createHeart(e.clientX, e.clientY);
        });
        
        function createHeart(x, y) {
            // 여러 개의 하트 생성 (1-3개)
            const heartCount = Math.floor(Math.random() * 3) + 1;
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    generateSingleHeart(x, y, i);
                }, i * 100);
            }
        }
        
        function generateSingleHeart(x, y, index) {
            const heart = document.createElement('div');
            heart.className = 'touch-heart';
            
            // 다양한 하트 이모지
            const heartTypes = ['❤️', '💕', '💖', '💗', '💓', '💝', '💘'];
            heart.textContent = heartTypes[Math.floor(Math.random() * heartTypes.length)];
            
            // 위치 설정 (약간씩 다르게)
            const offsetX = (Math.random() - 0.5) * 60;
            const offsetY = (Math.random() - 0.5) * 20;
            
            heart.style.left = (x + offsetX) + 'px';
            heart.style.top = (y + offsetY) + 'px';
            
            // 크기 랜덤
            const size = 16 + Math.random() * 8;
            heart.style.fontSize = size + 'px';
            
            // 애니메이션 지속시간 랜덤
            const duration = 1500 + Math.random() * 1000;
            heart.style.animation = `heartFloat ${duration}ms ease-out`;
            
            document.body.appendChild(heart);
            
            // 애니메이션 완료 후 제거
            setTimeout(() => {
                if (heart.parentNode) {
                    heart.parentNode.removeChild(heart);
                }
            }, duration);
        }
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const music = document.getElementById('background-music');
        const playBtn = document.getElementById('play-music');
        const pauseBtn = document.getElementById('pause-music');
        const visualizer = document.getElementById('music-visualizer');

        // 웨이브 시각화 제어 함수
        function startVisualizer() {
            visualizer.classList.add('active');
            playBtn.classList.add('playing');
            pauseBtn.classList.add('playing');
        }

        function stopVisualizer() {
            visualizer.classList.remove('active');
            playBtn.classList.remove('playing');
            pauseBtn.classList.remove('playing');
        }

        // 페이지 로드 시 음악 자동 재생
        music.play().then(() => {
            // 재생 성공 시 버튼 상태 변경
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';
            startVisualizer();
        }).catch(error => {
            // 자동 재생이 차단된 경우 (브라우저 정책)
            console.log("자동 재생이 차단되었습니다:", error);
            // 버튼 상태는 그대로 유지
            stopVisualizer();
        });

        playBtn.addEventListener('click', function() {
            music.play();
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'inline-block';
            startVisualizer();
        });

        pauseBtn.addEventListener('click', function() {
            music.pause();
            pauseBtn.style.display = 'none';
            playBtn.style.display = 'inline-block';
            stopVisualizer();
        });

        // 음악 이벤트 리스너 추가
        music.addEventListener('play', startVisualizer);
        music.addEventListener('pause', stopVisualizer);
        music.addEventListener('ended', stopVisualizer);

        // 카카오 SDK 초기화
        if (window.Kakao) {
            Kakao.init('9e1366c766b15ecc2d70954acf46d2c8');
        }

        // D-DAY 카운트다운 시작
        startCountdown();
    });

    // D-DAY 카운트다운 함수
    function startCountdown() {
        // 결혼식 날짜: 2025년 8월 23일 토요일 오후 2시
        const weddingDate = new Date('2025-08-23T14:00:00+09:00');
        
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = weddingDate.getTime() - now;
            
            if (distance > 0) {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // 숫자 애니메이션 효과
                animateNumber('days', days);
                animateNumber('hours', hours);
                animateNumber('minutes', minutes);
                animateNumber('seconds', seconds);
            } else {
                // 결혼식 당일이 되면
                document.querySelector('.dday-message p').innerHTML = '오늘이 바로 그 날입니다! 💕';
                document.getElementById('days').textContent = '0';
                document.getElementById('hours').textContent = '0';
                document.getElementById('minutes').textContent = '0';
                document.getElementById('seconds').textContent = '0';
            }
        }
        
        function animateNumber(id, newValue) {
            const element = document.getElementById(id);
            const currentValue = parseInt(element.textContent);
            
            if (currentValue !== newValue) {
                element.style.transform = 'scale(1.05)';
                element.style.opacity = '0.7';
                
                setTimeout(() => {
                    element.textContent = newValue;
                    element.style.transform = 'scale(1)';
                    element.style.opacity = '1';
                }, 200);
            }
        }
        
        // 초기 실행
        updateCountdown();
        
        // 1초마다 업데이트
        setInterval(updateCountdown, 1000);
    }

    // 카카오톡 공유 함수
    function shareKakao() {
        if (!window.Kakao) {
            alert('카카오톡 공유 기능을 사용할 수 없습니다.');
            return;
        }

        const currentUrl = window.location.href;
        const imageUrl = new URL('./img/KakaoTalk_20250705_101845888.jpg', currentUrl).href;

        Kakao.Share.sendDefault({
            objectType: 'feed',
            content: {
                title: '이태민 ❤️ 김혜현 결혼합니다',
                description: '2025년 8월 23일 토요일 오후 2시\n유성컨벤션웨딩홀 3층 그랜드홀\n\n새로운 마음과 새 의미를 간직하며 저희 두 사람이 새 출발의 첫걸음을 내딛습니다.',
                imageUrl: imageUrl,
                link: {
                    mobileWebUrl: currentUrl,
                    webUrl: currentUrl
                }
            },
            buttons: [
                {
                    title: '청첩장 보기',
                    link: {
                        mobileWebUrl: currentUrl,
                        webUrl: currentUrl
                    }
                }
            ]
        });
    }
</script>